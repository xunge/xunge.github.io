---
title: m1 mac 将系统装入外置硬盘
date: 2021-11-24 18:10:16
tags:
- mac
categories: 瞎折腾
---


在购买 m1 mac mini 时，硬盘选择多大的容量仍然是让人十分纠结，256GB 的空间需要1500元的差价，这个价格都可以购买 2TB 的 NVMe 硬盘了。

<!-- more -->


<img src="https://img.xungejiang.com/static/images/2021-11-08/WX20211108-204109@2x.png" alt="WX20211108-204109@2x"  />

因此，使用雷电3协议的外接硬盘是扩展硬盘容量的简单方法，尤其是对于mac mini这种几乎不移动的设备。

外接扩容有两种方法：

- 一种是仅将大型软件、大型数据、虚拟机等存放到外置硬盘中，可以既享受高速的内置硬盘，也可以满足临时存储大型数据的需求。不需要重装系统，但是割裂了使用体验。

- 另一种是将整个系统都装在外置硬盘中，这样相当于购买了大容量的硬盘空间版本，保持了完整的系统使用体验，同时内置硬盘也可以用来存储文件。如果后续需要更换电脑，直接在新电脑上接上硬盘即可正常使用，无需备份恢复等操作（前提是内置硬盘系统与外置硬盘的系统大版本一致，之前所有的正版软件需要重新授权）。

这里我选择的是第二种扩容方法，可能是采用了M1芯片的原因，网上的方法大多不好使，踩了一些坑，在此记录一下。

## 硬盘盒和硬盘

这里硬盘盒选择的牌子是ACASIS，只支持雷电3协议，性价比算是非常高的了，前两年雷电3协议的硬盘盒动辄要600多，今年降价了不少，这款2021双十一大概350元在拼多多买的，在正常运行时外壳微热不烫手，散热非常不错。

<img src="https://img.xungejiang.com/static/images/2021-11-09/1661636465050_.pic.jpg" alt="1661636465050_.pic" style="zoom: 50%;" />

硬盘选择的是闪迪1TB（sn550同款），固件21，发热量较小，硬盘盒几乎达到了硬盘的读写速度上限。虽然读写速度相较于内置硬盘有所下降，但是正常使用几乎感受不到区别。

![截屏2021-11-05 上午10.25 拷贝](https://img.xungejiang.com/static/images/2021-11-08/%E6%88%AA%E5%B1%8F2021-11-05%20%E4%B8%8A%E5%8D%8810.25%20%E6%8B%B7%E8%B4%9D.png)

使用 AmorphousDiskMark 软件进行测速结果如下，内置硬盘比外置硬盘速度要快很多，尤其是4k方面。

![4k_disk_speed](https://img.xungejiang.com/static/images/2021-11-24/4k_disk_speed.jpg)

因此，我建议把平时经常读写硬盘的大型应用放入内置硬盘中，可以充分利用内置硬盘和外置硬盘。

## 格式化硬盘

在 `实用工具` 中找到 `磁盘工具`，显示里选择 `显示所有设备`：

![WX20211111-204033@2x_副本](https://img.xungejiang.com/static/images/2021-11-11/WX20211111-204033@2x_%E5%89%AF%E6%9C%AC.jpg)

选择外接硬盘，点击`抹掉`，并将名称改为`macOS`，格式为`APFS`，方案为`GUID分区图`：

![WX20211111-204226@2x_副本](https://img.xungejiang.com/static/images/2021-11-11/WX20211111-204226@2x_%E5%89%AF%E6%9C%AC.jpg)

## 下载系统

打开 `App Store`，搜索 `macos`，就可以找到最新的版本 `macos monterey`，下载后便可以在应用程序中找到 `安装macOS Monterey.app`。需要注意的是，系统镜像必须从`APP Store`进行下载，否则不允许安装。

![截屏2021-11-11 下午2.04.22的副本.png_副本](https://img.xungejiang.com/static/images/2021-11-11/%E6%88%AA%E5%B1%8F2021-11-11%20%E4%B8%8B%E5%8D%882.04.22%E7%9A%84%E5%89%AF%E6%9C%AC.png_%E5%89%AF%E6%9C%AC.jpg)

这时传统的方法会双击这个`安装macOS Monterey.app`并选择将系统安装到外接硬盘中，但是我操作后无法进入系统，在`系统偏好设置`中点击`启动磁盘`，将启动磁盘设为`macOS`外接硬盘时会报错：无法设定启动磁盘-将“macOS”设为启动磁盘时出错：未能完成操作。（SDErrorDomain错误108。）

![截屏2021-11-05 下午3.22.22_副本](https://img.xungejiang.com/static/images/2021-11-11/%E6%88%AA%E5%B1%8F2021-11-05%20%E4%B8%8B%E5%8D%883.22.22_%E5%89%AF%E6%9C%AC.jpg)

这可能是M1芯片的限制，所以只能进入恢复模式进行安装。

## 进入恢复模式进行安装

关机后长按电源键进入恢复模式，选择最右侧的`选项`

![IMG_20211105_104028_副本2](https://img.xungejiang.com/static/images/2021-11-11/IMG_20211105_104028_%E5%89%AF%E6%9C%AC2.jpeg)

在这里如果选择第二项的`重新安装macOS Monterey`的话需要从网上重新下载镜像，并且我也没有安装成功，所以这里介绍另一种省时省力的方法。

在上面的`实用工具`中选择`终端`，或者键盘`cmd`+`shift`+`T`：

![IMG_20211105_152659_副本](https://img.xungejiang.com/static/images/2021-11-11/IMG_20211105_152659_%E5%89%AF%E6%9C%AC.jpeg)

在这里输入一行命令，意思就是找到在步骤4中已经下好的`安装macOS Monterey.app`并进行安装，命令如下：

```sh
cd ../../Volumes/Macintosh\ HD/Applications
./Install\ macOS\ Monterey.app/Contents/MacOS/InstallAssistant
```

稍微懂一些Linux的小伙伴应该能看懂，路径可以一点点试出来。

![IMG_20211105_1532021](https://img.xungejiang.com/static/images/2021-11-11/IMG_20211105_1532021.jpg)

回车后就进入了安装界面，这时不用下载即可安装：

![IMG_20211105_153233](https://img.xungejiang.com/static/images/2021-11-11/IMG_20211105_153233.jpg)

一路下一步，注意选择macOS的外接硬盘即可，安装完成后会自动进入外接硬盘中的系统。

![IMG_20211105_154937](https://img.xungejiang.com/static/images/2021-11-11/IMG_20211105_154937.jpg)

## 黑苹果转白苹果心得

最后简单介绍一下自己由黑苹果转白苹果的体会。

之前自己撘过一个黑苹果，由于没有配显卡，Intel的核显的HDMI接口只能支持1080P60帧的显示器，而我希望配两个4K显示器，这就有了两种解决办法：

- 一是买一块AMD的黑苹果免驱的显卡，继续使用黑苹果，好处是windows系统也可以玩玩游戏，但是RX6600XT 价格在4000元左右，感觉作为显卡来说还是太贵。
- 二是转战白苹果，买一个m1芯片的mac mini，可以外接两台4K60帧显示器（macbook air只能外接一台4K）。

很明显，我选择了第二种办法。在体验了一周m1芯片的白苹果后，主要感受到了以下区别：

1. **噪音的消失：**黑苹果转白苹果，最大的感受就是噪音的消失。m1芯片确实安静的可怕，以至于即使满载CPU跑程序，风扇也只是轻微的转动，听不到任何声音。相比于之前桌子上的趣造小机箱，即使没有显卡，CPU散热的风扇声音也远比mac mini大。
2. **多显示器的支持：**之前的黑苹果可能是设置的问题，在开机的时候4K显示器不输出画面，需要重启下显示器才能显示画面，白苹果自然是没有这种问题。
3. **蓝牙、无线、AirDrop**：虽然之前的黑苹果安装的也是苹果原装网卡，但是可能是抗干扰能力较差等因素，听音乐有时会断断续续。白苹果如果听歌会断断续续，我只会认为是耳机太差了。
3. **8G内存是否够用**：这也是老生常谈的问题，也是我最纠结的一个问题。在代码开发时，当打开的Pycharm工程大于3个并开启多个网页时，确实会感受到反应的卡顿。不过我不太经常会同时打开多个工程，因此认为8G内存对于我来说是足够的。如果还是纠结的话，可以去苹果官网买8+256的官翻试一试，14天无理由退货期间看看8G内存是否够用。

说实话，之前的黑苹果在使用上和白苹果并没有明显区别，要不是因为需要支持双4K显示器，黑苹果可能会接着使用。不过白苹果确实省心，不用为升级系统而担心各种bug，蓝牙wifi连接不稳定也只会认为是设备的问题，光噪声消失这一项我就认为这钱花的值。苹果产品还非常保值，过两年卖了买新款也不心疼。总之，m1的mac mini还是值得购买的。
